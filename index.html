<html>

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>


<body>
  <script src="./three.js-dev/build/three.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.2.0/lib/p5.js"></script>
 <script>
function setup(){
const OakBoi = [
"brown",
0
 ]
const block_o_c = []

    var scene = new THREE.Scene();
    var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000)
    camera.position.z = 25;
    camera.position.y = 5;
    var renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setClearColor("aqua");
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    var totalCubes = 50;
        for(var i=0; i<Math.sqrt(totalCubes); i++){
          for(var j=0; j<Math.sqrt(totalCubes); j++){
            for(var height = 0; height <= Math.ceil((noise(i*0.05, height*0.05, j*0.05) * 80) + 45); height++){
            var geometry = new THREE.BoxGeometry(1, 1, 1)
            var material = new THREE.MeshLambertMaterial({color: "green"})
            var cloud = new THREE.Mesh(geometry, material)
            cloud.position.x  = i;
            cloud.position.z = j;
            cloud.position.y = height
            scene.add(cloud)
            }
          }
      }
      var totalCubes = 500;
        for(var i=0; i<Math.sqrt(totalCubes); i++){
          for(var j=0; j<Math.sqrt(totalCubes); j++){
            var geometry = new THREE.BoxGeometry(1, 1, 1)
            var material = new THREE.MeshLambertMaterial({color: "green"})
            var cloud = new THREE.Mesh(geometry, material)
            cloud.position.x  = i-50;
            cloud.position.z = j;
            scene.add(cloud)
          }
      }

      var magma = new THREE.PointLight(0xFFFFFF, 1, 1500)
      magma.position.set(0, 10, 0)
scene.add(magma)

    
      var render = function () {
        requestAnimationFrame(render);
        renderer.render(scene, camera);
      }
      render()

      
      

document.body.requestPointerLock = document.body.requestPointerLock ||
                                    document.body.mozRequestPointerLock;
        document.exitPointerLock = document.exitPointerLock ||
                                   document.mozExitPointerLock;
        document.body.onclick = function() {
          document.body.requestPointerLock();
        };
        


document.body.onmousemove = function(evt) {
    camera.rotation.y-=evt.movementX/65;
    //if(Math.abs(camera.rotation.x)<1){camera.rotation.x-=evt.movementY/65;}else{camera.rotation.x-=(camera.rotation.x/Math.abs(camera.rotation.x))/100}
  };

  document.body.onkeydown = function (evt) {
    if(evt.keyCode==38||evt.keyCode==87) { //forwards
      var direction = new THREE.Vector3();
      camera.getWorldDirection( direction );
      camera.position.add( direction );
    }
    if(evt.keyCode==40||evt.keyCode==83) { //backwards
      var direction = new THREE.Vector3();
      camera.getWorldDirection( direction );
      camera.position.sub( direction );
    }
    if(evt.keyCode==32) { //jump
      this.camera = camera;
      this.camera.position.y+=1;
    }
    if(evt.keyCode==17) { //go down //control key
      this.camera = camera;
      this.camera.position.y-=1;
    }
  };
}
  </script>
</body>

</html>